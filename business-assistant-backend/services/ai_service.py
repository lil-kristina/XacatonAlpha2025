import requests
import json
from config import settings
from typing import Optional
import aiohttp
import asyncio

class AIService:
    async def get_ai_response(self, question: str) -> str:
        """
        –£–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–≤–µ—Ç–æ–≤ —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º –º–µ–Ω—é
        """
        # üîí –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–∞
        validation_error = self._validate_question(question)
        if validation_error:
            return validation_error
        
        # üéØ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤—ã–±–æ—Ä –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–º—ã
        topic_response = self._handle_topic_selection(question)
        if topic_response:
            return topic_response
        
        # 1. –õ–æ–∫–∞–ª—å–Ω—ã–µ —É–º–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
        local_answer = self._get_smart_local_answer(question)
        if local_answer:
            return local_answer
        
        # 2. DeepSeek API - –í–†–ï–ú–ï–ù–ù–û –û–¢–ö–õ–Æ–ß–ï–ù
        # deepseek_answer = await self._call_deepseek_api(question)
        # if deepseek_answer:
        #     return f"ü§ñ AI-–ø–æ–º–æ—â–Ω–∏–∫:\n\n{deepseek_answer}"
        
        # 3. –£–º–Ω—ã–π fallback —Å –º–µ–Ω—é —Ç–µ–º
        return self._get_main_menu()
    
    def _validate_question(self, question: str) -> Optional[str]:
        """–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö"""
        if not question or not question.strip():
            return "‚ùå –ó–∞–ø—Ä–æ—Å –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º."
        
        if len(question) > 2000:
            return "‚ùå –°–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å. –ú–∞–∫—Å–∏–º—É–º 2000 —Å–∏–º–≤–æ–ª–æ–≤."
        
        dangerous_patterns = ['<script', 'javascript:', 'onload=', 'onerror=']
        if any(pattern in question.lower() for pattern in dangerous_patterns):
            return "‚ùå –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã –≤ –∑–∞–ø—Ä–æ—Å–µ."
        
        return None
    
    def _handle_topic_selection(self, question: str) -> Optional[str]:
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ —Ç–µ–º—ã –∏–∑ –º–µ–Ω—é"""
        question_lower = question.lower().strip()
        
        # üìã –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ –¢–ï–ú
        main_topics = {
            "—Ñ–∏–Ω–∞–Ω—Å—ã": self._get_finance_subtopics,
            "–Ω–∞–ª–æ–≥–∏": self._get_tax_subtopics, 
            "–¥–æ–≥–æ–≤–æ—Ä–∞": self._get_legal_subtopics,
            "–º–∞—Ä–∫–µ—Ç–∏–Ω–≥": self._get_marketing_subtopics,
            "—Å—Ç–∞—Ä—Ç –±–∏–∑–Ω–µ—Å–∞": self._get_business_start_subtopics,
            "—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏": self._get_hr_subtopics,
            "—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ": self._get_management_subtopics,
            "—Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ": self._get_funding_subtopics,
            "–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏": self._get_presentation_subtopics,
            "–º–µ–Ω—é": self._get_main_menu
        }
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—ã–±–æ—Ä –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–º—ã
        for topic, handler in main_topics.items():
            if topic in question_lower:
                return handler()
        
        return None

    def _get_smart_local_answer(self, question: str) -> Optional[str]:
        """–£–º–Ω–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π"""
        question_lower = question.lower()
        
        # üìä –§–ò–ù–ê–ù–°–´ –ò –†–ê–°–ß–ï–¢–´
        if any(word in question_lower for word in ['–Ω–∞—Ü–µ–Ω–∫', '—Ü–µ–Ω–∞', '—Å—Ç–æ–∏–º–æ—Å—Ç—å', '—Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω']):
            return self._get_finance_advice(question_lower)
        
        elif any(word in question_lower for word in ['–Ω–∞–ª–æ–≥', '—É—Å–Ω', '–Ω–¥—Å', '–ø–∞—Ç–µ–Ω—Ç', '–Ω–∞–ª–æ–≥–∏']):
            return self._get_tax_advice(question_lower)
        
        elif any(word in question_lower for word in ['–¥–æ–≥–æ–≤–æ—Ä', '–∫–æ–Ω—Ç—Ä–∞–∫—Ç', '—Å–æ–≥–ª–∞—à–µ–Ω', '–¥–æ–∫—É–º–µ–Ω—Ç']):
            return self._get_legal_advice(question_lower)
        
        elif any(word in question_lower for word in ['–º–∞—Ä–∫–µ—Ç–∏–Ω–≥', '–ø—Ä–æ–¥–≤–∏–∂–µ–Ω', '—Ä–µ–∫–ª–∞–º', '–ø—Ä–æ–¥–∞–∂']):
            return self._get_marketing_advice(question_lower)
        
        elif any(word in question_lower for word in ['–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü', '—Å–ª–∞–π–¥', '–¥–æ–∫–ª–∞–¥', '–≤—ã—Å—Ç—É–ø–ª–µ–Ω']):
            return self._get_presentation_advice(question_lower)
        
        elif any(word in question_lower for word in ['–ø–∏—Å—å–º–æ', 'email', '—Ä–∞—Å—Å—ã–ª–∫', '–¥–µ–ª–æ–≤–æ–µ']):
            return self._get_business_letter_advice(question_lower)
        
        elif any(word in question_lower for word in ['–±–∏–∑–Ω–µ—Å –ø–ª–∞–Ω', '—Å—Ç–∞—Ä—Ç –±–∏–∑–Ω–µ—Å', '–æ—Ç–∫—Ä—ã—Ç—å –±–∏–∑–Ω–µ—Å', '–Ω–∞—á–∞—Ç—å –±–∏–∑–Ω–µ—Å']):
            return self._get_business_start_advice(question_lower)
        
        elif any(word in question_lower for word in ['—Å–æ—Ç—Ä—É–¥–Ω–∏–∫', '–Ω–∞–π–º', '—Ç—Ä—É–¥–æ–≤–æ–π', '–∑–∞—Ä–ø–ª–∞—Ç']):
            return self._get_hr_advice(question_lower)
        
        elif any(word in question_lower for word in ['–æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å', '–æ—Ç—á–µ—Ç', '–±—É—Ö–≥–∞–ª—Ç–µ—Ä', '—É—á–µ—Ç']):
            return self._get_accounting_advice(question_lower)
        
        elif any(word in question_lower for word in ['–ø—Ä–∏–±—ã–ª—å', '–¥–æ—Ö–æ–¥', '–≤—ã—Ä—É—á–∫–∞', '—Ä–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å']):
            return self._get_profit_advice(question_lower)
        
        elif any(word in question_lower for word in ['—Ä–∞—Å—Ö–æ–¥', '–∑–∞—Ç—Ä–∞—Ç', '—Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å', '—ç–∫–æ–Ω–æ–º–∏—è']):
            return self._get_costs_advice(question_lower)
        
        elif any(word in question_lower for word in ['–∏–ø', '–æ–æ–æ', '—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü', '–æ—Ç–∫—Ä—ã—Ç—å –∏–ø']):
            return self._get_registration_advice(question_lower)
        
        elif any(word in question_lower for word in ['–∫—Ä–µ–¥–∏—Ç', '–∑–∞–µ–º', '—Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω', '–∏–Ω–≤–µ—Å—Ç–∏—Ü']):
            return self._get_funding_advice(question_lower)
        
        elif any(word in question_lower for word in ['–ø—Ä–∏–≤–µ—Ç', '–∑–¥—Ä–∞–≤—Å—Ç–≤', '–¥–æ–±—Ä—ã–π', 'hello', 'hi']):
            return "üëã –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø –≤–∞—à –±–∏–∑–Ω–µ—Å-–ø–æ–º–æ—â–Ω–∏–∫. –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –æ —Ñ–∏–Ω–∞–Ω—Å–∞—Ö, –Ω–∞–ª–æ–≥–∞—Ö, –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–µ, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –±–∏–∑–Ω–µ—Å-—Ç–µ–º–∞—Ö. –Ø –≥–æ—Ç–æ–≤ –ø–æ–º–æ—á—å!\n\n" + self._get_main_menu()
        
        elif any(word in question_lower for word in ['—Ñ–∏–Ω–∞–Ω—Å', '–∞–Ω–∞–ª–∏–∑ —Ñ–∏–Ω–∞–Ω—Å–æ–≤', '–¥–µ–Ω—å–≥–∏']):
            return """üí∞ **–ê–Ω–∞–ª–∏–∑ —Ñ–∏–Ω–∞–Ω—Å–æ–≤ –±–∏–∑–Ω–µ—Å–∞**

**–ö–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:**
1. **–í—ã—Ä—É—á–∫–∞** - –æ–±—â–∏–π –¥–æ—Ö–æ–¥ –æ—Ç –ø—Ä–æ–¥–∞–∂
2. **–†–∞—Å—Ö–æ–¥—ã** - –≤—Å–µ –∑–∞—Ç—Ä–∞—Ç—ã –±–∏–∑–Ω–µ—Å–∞
3. **–ü—Ä–∏–±—ã–ª—å** = –í—ã—Ä—É—á–∫–∞ - –†–∞—Å—Ö–æ–¥—ã
4. **–†–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å** = (–ü—Ä–∏–±—ã–ª—å / –í—ã—Ä—É—á–∫–∞) √ó 100%

**–ß—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å:**
‚Ä¢ –î–∏–Ω–∞–º–∏–∫–∞ –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤
‚Ä¢ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞—Ç—Ä–∞—Ç
‚Ä¢ –¢–æ—á–∫–∞ –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏
‚Ä¢ –î–µ–Ω–µ–∂–Ω—ã–π –ø–æ—Ç–æ–∫

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:**
‚Ä¢ Excel/Google Sheets
‚Ä¢ –û–Ω–ª–∞–π–Ω-–±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è
‚Ä¢ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"""

        return None

    def _get_main_menu(self) -> str:
        """–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Ç–µ–º"""
        return """üéØ **–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏:**

üí∞ **–§–ò–ù–ê–ù–°–´ –ò –†–ê–°–ß–ï–¢–´**
–ù–∞—Ü–µ–Ω–∫–∞, –ø—Ä–∏–±—ã–ª—å, —Ä–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å, –∞–Ω–∞–ª–∏–∑

üìä **–ù–ê–õ–û–ì–ò –ò –û–¢–ß–ï–¢–ù–û–°–¢–¨**
–ù–∞–ª–æ–≥–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã, –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å, —Å—Ä–æ–∫–∏

üìù **–î–û–ì–û–í–û–†–ê –ò –î–û–ö–£–ú–ï–ù–¢–´**
–°–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–æ–≤, —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã

üéØ **–ú–ê–†–ö–ï–¢–ò–ù–ì –ò –ü–†–û–î–ê–ñ–ò**
–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è, —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∂

üöÄ **–°–¢–ê–†–¢ –ë–ò–ó–ù–ï–°–ê**
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –±–∏–∑–Ω–µ—Å-–ø–ª–∞–Ω, –ø–µ—Ä–≤—ã–µ —à–∞–≥–∏

üë• **–°–û–¢–†–£–î–ù–ò–ö–ò –ò HR**
–ù–∞–π–º, –¥–æ–≥–æ–≤–æ—Ä–∞, –º–æ—Ç–∏–≤–∞—Ü–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∞

üìà **–£–ü–†–ê–í–õ–ï–ù–ò–ï –ë–ò–ó–ù–ï–°–û–ú**
KPI, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞–Ω–∞–ª–∏–∑ —Ä–∏—Å–∫–æ–≤

üè¶ **–§–ò–ù–ê–ù–°–ò–†–û–í–ê–ù–ò–ï –ò –ö–†–ï–î–ò–¢–´**
–ö—Ä–µ–¥–∏—Ç—ã, –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏, —Å—É–±—Å–∏–¥–∏–∏

üìä **–ü–†–ï–ó–ï–ù–¢–ê–¶–ò–ò –ò –í–´–°–¢–£–ü–õ–ï–ù–ò–Ø**
–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π, –ø—É–±–ª–∏—á–Ω—ã–µ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è

**üí° –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω—É–∂–Ω–æ–π —Ç–µ–º—ã!**
–ù–∞–ø—Ä–∏–º–µ—Ä: *"—Ñ–∏–Ω–∞–Ω—Å—ã"* –∏–ª–∏ *"–Ω–∞–ª–æ–≥–∏"*"""

    def _get_finance_subtopics(self) -> str:
        """–ü–æ–¥—Ç–µ–º—ã —Ñ–∏–Ω–∞–Ω—Å–æ–≤"""
        return """üí∞ **–§–ò–ù–ê–ù–°–´ –ò –†–ê–°–ß–ï–¢–´**

–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å:

‚Ä¢ **–ù–∞—Ü–µ–Ω–∫–∞** - –∫–∞–∫ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –Ω–∞—Ü–µ–Ω–∫—É –Ω–∞ —Ç–æ–≤–∞—Ä
‚Ä¢ **–ü—Ä–∏–±—ã–ª—å** - —Ñ–æ—Ä–º—É–ª—ã —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–∏–±—ã–ª–∏
‚Ä¢ **–†–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å** - —Ä–∞—Å—á–µ—Ç —Ä–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ –±–∏–∑–Ω–µ—Å–∞  
‚Ä¢ **–î–µ–Ω–µ–∂–Ω—ã–µ –ø–æ—Ç–æ–∫–∏** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ–Ω–µ–∂–Ω—ã–º–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏
‚Ä¢ **–¢–æ—á–∫–∞ –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏** - —Ä–∞—Å—á–µ—Ç –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏
‚Ä¢ **–ê–Ω–∞–ª–∏–∑ —Ñ–∏–Ω–∞–Ω—Å–æ–≤** - –∫–ª—é—á–µ–≤—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
‚Ä¢ **–ë—é–¥–∂–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞
‚Ä¢ **–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å** - —Ä–∞—Å—á–µ—Ç —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–¥—É–∫—Ü–∏–∏

**üí° –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä:**
*"–ö–∞–∫ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –Ω–∞—Ü–µ–Ω–∫—É –Ω–∞ —Ç–æ–≤–∞—Ä —Å—Ç–æ–∏–º–æ—Å—Ç—å—é 100 —Ä—É–±–ª–µ–π?"*"""

    def _get_tax_subtopics(self) -> str:
        """–ü–æ–¥—Ç–µ–º—ã –Ω–∞–ª–æ–≥–æ–≤"""
        return """üìä **–ù–ê–õ–û–ì–ò –ò –û–¢–ß–ï–¢–ù–û–°–¢–¨**

–í—ã–±–µ—Ä–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è:

‚Ä¢ **–£–°–ù 6%** - —É–ø—Ä–æ—â–µ–Ω–∫–∞ "–¥–æ—Ö–æ–¥—ã"
‚Ä¢ **–£–°–ù 15%** - —É–ø—Ä–æ—â–µ–Ω–∫–∞ "–¥–æ—Ö–æ–¥—ã –º–∏–Ω—É—Å —Ä–∞—Å—Ö–æ–¥—ã"
‚Ä¢ **–ü–∞—Ç–µ–Ω—Ç** - –ø–∞—Ç–µ–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è
‚Ä¢ **–û–°–ù–û** - –æ–±—â–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è
‚Ä¢ **–ù–∞–ª–æ–≥–æ–≤—ã–µ –≤—ã—á–µ—Ç—ã** - –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤—ã—á–µ—Ç—ã –¥–ª—è –ò–ü
‚Ä¢ **–û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å** - —Å—Ä–æ–∫–∏ –∏ –≤–∏–¥—ã –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏
‚Ä¢ **–°—Ç—Ä–∞—Ö–æ–≤—ã–µ –≤–∑–Ω–æ—Å—ã** - –≤–∑–Ω–æ—Å—ã –ò–ü –∑–∞ —Å–µ–±—è
‚Ä¢ **–ù–î–°** - –Ω–∞–ª–æ–≥ –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å

**üí° –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä:**
*"–ö–∞–∫–∏–µ –Ω–∞–ª–æ–≥–∏ –ø–ª–∞—Ç–∏—Ç –ò–ü –Ω–∞ –£–°–ù 6%?"*"""

    def _get_legal_subtopics(self) -> str:
        """–ü–æ–¥—Ç–µ–º—ã –¥–æ–≥–æ–≤–æ—Ä–æ–≤"""
        return """üìù **–î–û–ì–û–í–û–†–ê –ò –î–û–ö–£–ú–ï–ù–¢–´**

–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞:

‚Ä¢ **–î–æ–≥–æ–≤–æ—Ä –æ–∫–∞–∑–∞–Ω–∏—è —É—Å–ª—É–≥** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
‚Ä¢ **–î–æ–≥–æ–≤–æ—Ä –ø–æ—Å—Ç–∞–≤–∫–∏** - —É—Å–ª–æ–≤–∏—è –ø–æ—Å—Ç–∞–≤–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤
‚Ä¢ **–¢—Ä—É–¥–æ–≤–æ–π –¥–æ–≥–æ–≤–æ—Ä** - –Ω–∞–π–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
‚Ä¢ **–î–æ–≥–æ–≤–æ—Ä –ø–æ–¥—Ä—è–¥–∞** - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç
‚Ä¢ **–î–µ–ª–æ–≤–æ–µ –ø–∏—Å—å–º–æ** - —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–∏—Å–µ–º
‚Ä¢ **–ê–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç** - –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∞–∫—Ç–æ–≤
‚Ä¢ **–î–æ–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å** - –≤–∏–¥—ã –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ
‚Ä¢ **–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏** - –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Ä–∏—Å–∫–æ–≤

**üí° –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä:**
*"–ö–∞–∫ —Å–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ–≥–æ–≤–æ—Ä –æ–∫–∞–∑–∞–Ω–∏—è —É—Å–ª—É–≥?"*"""

    def _get_marketing_subtopics(self) -> str:
        """–ü–æ–¥—Ç–µ–º—ã –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞"""
        return """üéØ **–ú–ê–†–ö–ï–¢–ò–ù–ì –ò –ü–†–û–î–ê–ñ–ò**

–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

‚Ä¢ **–¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ** - —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
‚Ä¢ **–ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö** - SMM —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
‚Ä¢ **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç/Google Ads
‚Ä¢ **Email-–º–∞—Ä–∫–µ—Ç–∏–Ω–≥** - —Ä–∞—Å—Å—ã–ª–∫–∏ –∏ –ª–∏–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è
‚Ä¢ **SEO** - –ø–æ–∏—Å–∫–æ–≤–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∞–π—Ç–∞
‚Ä¢ **–ë—Ä–µ–Ω–¥–∏–Ω–≥** - —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –±—Ä–µ–Ω–¥–∞
‚Ä¢ **–ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤** - –∏–∑—É—á–µ–Ω–∏–µ —Ä—ã–Ω–∫–∞
‚Ä¢ **CRM —Å–∏—Å—Ç–µ–º—ã** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏

**üí° –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä:**
*"–°–æ–≤–µ—Ç—ã –ø–æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥—É –¥–ª—è –º–∞–ª–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞"*"""

    def _get_business_start_subtopics(self) -> str:
        """–ü–æ–¥—Ç–µ–º—ã —Å—Ç–∞—Ä—Ç–∞ –±–∏–∑–Ω–µ—Å–∞"""
        return """üöÄ **–°–¢–ê–†–¢ –ë–ò–ó–ù–ï–°–ê**

–í—ã–±–µ—Ä–∏—Ç–µ —ç—Ç–∞–ø:

‚Ä¢ **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ò–ü/–û–û–û** - –≤—ã–±–æ—Ä —Ñ–æ—Ä–º—ã –±–∏–∑–Ω–µ—Å–∞
‚Ä¢ **–ë–∏–∑–Ω–µ—Å-–ø–ª–∞–Ω** - —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ø–ª–∞–Ω–∞
‚Ä¢ **–ü–æ–∏—Å–∫ –Ω–∏—à–∏** - –∞–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞ –∏ –≤—ã–±–æ—Ä –Ω–∏—à–∏
‚Ä¢ **–°—Ç–∞—Ä—Ç–æ–≤—ã–π –∫–∞–ø–∏—Ç–∞–ª** - –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è
‚Ä¢ **–ü–µ—Ä–≤—ã–µ –∫–ª–∏–µ–Ω—Ç—ã** - –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ –ø–µ—Ä–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
‚Ä¢ **–õ–µ–≥–∞–ª–∏–∑–∞—Ü–∏—è** - —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ
‚Ä¢ **–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–º–µ—â–µ–Ω–∏–µ** - –≤—ã–±–æ—Ä –∏ –∞—Ä–µ–Ω–¥–∞
‚Ä¢ **–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ —Å—Ç–∞—Ä—Ç–∞–ø–∞** - –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞

**üí° –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä:**
*"–ö–∞–∫ —Å–æ—Å—Ç–∞–≤–∏—Ç—å –±–∏–∑–Ω–µ—Å-–ø–ª–∞–Ω –¥–ª—è –∫–∞—Ñ–µ?"*"""

    def _get_hr_subtopics(self) -> str:
        """–ü–æ–¥—Ç–µ–º—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤"""
        return """üë• **–°–û–¢–†–£–î–ù–ò–ö–ò –ò HR**

–í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –ø–æ –∫–∞–¥—Ä–∞–º:

‚Ä¢ **–¢—Ä—É–¥–æ–≤–æ–π –¥–æ–≥–æ–≤–æ—Ä** - –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –Ω–∞–π–º–∞
‚Ä¢ **–ò—Å–ø—ã—Ç–∞—Ç–µ–ª—å–Ω—ã–π —Å—Ä–æ–∫** - —É—Å–ª–æ–≤–∏—è –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
‚Ä¢ **–ó–∞—Ä–ø–ª–∞—Ç–∞ –∏ –Ω–∞–ª–æ–≥–∏** - —Ä–∞—Å—á–µ—Ç –∏ –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏–µ
‚Ä¢ **–ü–æ–∏—Å–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤** - —Ä–µ–∫—Ä—É—Ç–∏–Ω–≥ –∏ –ø–æ–¥–±–æ—Ä
‚Ä¢ **–ú–æ—Ç–∏–≤–∞—Ü–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∞** - —Å–∏—Å—Ç–µ–º—ã –º–æ—Ç–∏–≤–∞—Ü–∏–∏
‚Ä¢ **–û–±—É—á–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤** - —Ä–∞–∑–≤–∏—Ç–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞
‚Ä¢ **–¢—Ä—É–¥–æ–≤–∞—è –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞** - –ø—Ä–∞–≤–∏–ª–∞ –∏ –Ω–∞—Ä—É—à–µ–Ω–∏—è
‚Ä¢ **–£–≤–æ–ª—å–Ω–µ–Ω–∏–µ** - –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ —É–≤–æ–ª—å–Ω–µ–Ω–∏—è

**üí° –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä:**
*"–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ñ–æ—Ä–º–∏—Ç—å —Ç—Ä—É–¥–æ–≤–æ–π –¥–æ–≥–æ–≤–æ—Ä?"*"""

    def _get_management_subtopics(self) -> str:
        """–ü–æ–¥—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è"""
        return """üìà **–£–ü–†–ê–í–õ–ï–ù–ò–ï –ë–ò–ó–ù–ï–°–û–ú**

–í—ã–±–µ—Ä–∏—Ç–µ –∞—Å–ø–µ–∫—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

‚Ä¢ **KPI** - –∫–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
‚Ä¢ **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
‚Ä¢ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏** - –∞–Ω–∞–ª–∏–∑ –∏ –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Ä–∏—Å–∫–æ–≤
‚Ä¢ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤** - —É–ª—É—á—à–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤
‚Ä¢ **–ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤** - –∏–∑—É—á–µ–Ω–∏–µ —Ä—ã–Ω–æ—á–Ω–æ–π —Å—Ä–µ–¥—ã
‚Ä¢ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–µ–º** - —Ç–∞–π–º-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç –¥–ª—è –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—è
‚Ä¢ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
‚Ä¢ **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Ä–æ—Å—Ç –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ –±–∏–∑–Ω–µ—Å–∞

**üí° –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä:**
*"–ö–∞–∫–∏–µ KPI –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤ —Ä–æ–∑–Ω–∏—á–Ω–æ–º –º–∞–≥–∞–∑–∏–Ω–µ?"*"""

    def _get_funding_subtopics(self) -> str:
        """–ü–æ–¥—Ç–µ–º—ã —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è"""
        return """üè¶ **–§–ò–ù–ê–ù–°–ò–†–û–í–ê–ù–ò–ï –ò –ö–†–ï–î–ò–¢–´**

–í—ã–±–µ—Ä–∏—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è:

‚Ä¢ **–ë–∞–Ω–∫–æ–≤—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç** - —É—Å–ª–æ–≤–∏—è –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
‚Ä¢ **–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—É–±—Å–∏–¥–∏–∏** - –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏
‚Ä¢ **–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏** - –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤
‚Ä¢ **–ö—Ä–∞—É–¥—Ñ–∞–Ω–¥–∏–Ω–≥** - –Ω–∞—Ä–æ–¥–Ω–æ–µ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ
‚Ä¢ **–õ–∏–∑–∏–Ω–≥** - –∞—Ä–µ–Ω–¥–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
‚Ä¢ **–§–∞–∫—Ç–æ—Ä–∏–Ω–≥** - —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥ —É—Å—Ç—É–ø–∫—É –ø—Ä–∞–≤
‚Ä¢ **–í–µ–Ω—á—É—Ä–Ω–æ–µ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–ª—è —Å—Ç–∞—Ä—Ç–∞–ø–æ–≤
‚Ä¢ **–°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–∏—á–Ω—ã—Ö –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–π

**üí° –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä:**
*"–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—É—é —Å—É–±—Å–∏–¥–∏—é –Ω–∞ –±–∏–∑–Ω–µ—Å?"*"""

    def _get_presentation_subtopics(self) -> str:
        """–ü–æ–¥—Ç–µ–º—ã –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π"""
        return """üìä **–ü–†–ï–ó–ï–ù–¢–ê–¶–ò–ò –ò –í–´–°–¢–£–ü–õ–ï–ù–ò–Ø**

–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏:

‚Ä¢ **–ò–Ω–≤–µ—Å—Ç–æ—Ä—Å–∫–∞—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è** - pitch deck –¥–ª—è –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤
‚Ä¢ **–ë–∏–∑–Ω–µ—Å-–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è** - –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚Ä¢ **–ü—Ä–æ–¥–∞—é—â–∞—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è** - –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
‚Ä¢ **–ü—É–±–ª–∏—á–Ω–æ–µ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–µ** - —Ç–µ—Ö–Ω–∏–∫–∏ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–π
‚Ä¢ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–ª–∞–π–¥–æ–≤** - –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏
‚Ä¢ **Storytelling** - –∏—Å–∫—É—Å—Å—Ç–≤–æ storytelling –≤ –±–∏–∑–Ω–µ—Å–µ
‚Ä¢ **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã
‚Ä¢ **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—é** - —Ä–µ–ø–µ—Ç–∏—Ü–∏—è –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

**üí° –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä:**
*"–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤"*"""

    def _get_finance_advice(self, question: str) -> str:
        """–£–º–Ω—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏"""
        if '–Ω–∞—Ü–µ–Ω–∫' in question:
            return """üí∞ **–†–∞—Å—á–µ—Ç –Ω–∞—Ü–µ–Ω–∫–∏**

**–§–æ—Ä–º—É–ª–∞:** (–¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ - –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å) / –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å √ó 100%

**–ü—Ä–∏–º–µ—Ä—ã:**
‚Ä¢ –¢–æ–≤–∞—Ä: 100‚ÇΩ ‚Üí 150‚ÇΩ = –Ω–∞—Ü–µ–Ω–∫–∞ 50%
‚Ä¢ –£—Å–ª—É–≥–∞: 500‚ÇΩ ‚Üí 800‚ÇΩ = –Ω–∞—Ü–µ–Ω–∫–∞ 60%

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –Ω–∞—Ü–µ–Ω–∫–∞:**
‚Ä¢ –†–æ–∑–Ω–∏—á–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è: 30-100%
‚Ä¢ –£—Å–ª—É–≥–∏: 50-200%"""

        elif '–Ω–∞–ª–æ–≥' in question or '—É—Å–Ω' in question:
            return """üìã **–ù–∞–ª–æ–≥–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã –¥–ª—è –ò–ü**

**–£–°–ù 6%:** –° –¥–æ—Ö–æ–¥–æ–≤, –º–æ–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å –Ω–∞ –≤–∑–Ω–æ—Å—ã
**–£–°–ù 15%:** –° —Ä–∞–∑–Ω–∏—Ü—ã –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤  
**–ü–∞—Ç–µ–Ω—Ç:** –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
**–û–°–ù–û:** –ù–î–° 20% + –Ω–∞–ª–æ–≥ –Ω–∞ –ø—Ä–∏–±—ã–ª—å"""

        elif '–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü' in question:
            return """üìä **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∏–∑–Ω–µ—Å-–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏:**

1. **–¢–∏—Ç—É–ª—å–Ω—ã–π —Å–ª–∞–π–¥:** –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞, –≤–∞—à–µ –∏–º—è
2. **–ü—Ä–æ–±–ª–µ–º–∞:** –ö–∞–∫—É—é –ø—Ä–æ–±–ª–µ–º—É —Ä–µ—à–∞–µ—Ç–µ
3. **–†–µ—à–µ–Ω–∏–µ:** –í–∞—à –ø—Ä–æ–¥—É–∫—Ç/—É—Å–ª—É–≥–∞
4. **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ü–æ—á–µ–º—É –≤—ã –ª—É—á—à–µ
5. **–ë–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª—å:** –ö–∞–∫ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ
6. **–ö–æ–º–∞–Ω–¥–∞:** –ö—Ç–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç
7. **–§–∏–Ω–∞–Ω—Å—ã:** –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–∏—Ñ—Ä—ã
8. **–ü—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é:** –ß—Ç–æ –Ω—É–∂–Ω–æ –æ—Ç –∞—É–¥–∏—Ç–æ—Ä–∏–∏

üí° **–°–æ–≤–µ—Ç:** –î–µ–ª–∞–π—Ç–µ —Å–ª–∞–π–¥—ã –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏, –º–∏–Ω–∏–º—É–º —Ç–µ–∫—Å—Ç–∞!"""

        return """üíº **–ë–∏–∑–Ω–µ—Å-–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏**

–Ø –º–æ–≥—É –ø–æ–º–æ—á—å —Å:
‚Ä¢ –§–∏–Ω–∞–Ω—Å–∞–º–∏ –∏ —Ä–∞—Å—á–µ—Ç–∞–º–∏
‚Ä¢ –ù–∞–ª–æ–≥–∞–º–∏ –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å—é  
‚Ä¢ –î–æ–≥–æ–≤–æ—Ä–∞–º–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
‚Ä¢ –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–º –∏ –ø—Ä–æ–¥–∞–∂–∞–º–∏
‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –±–∏–∑–Ω–µ—Å–æ–º

–ó–∞–¥–∞–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å!"""

    def _get_tax_advice(self, question: str) -> str:
        return """üìã **–ù–∞–ª–æ–≥–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã**

**–£–°–ù 6%:** –ü—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö
**–£–°–ù 15%:** –ü—Ä–∏ –≤—ã—Å–æ–∫–∏—Ö —Ä–∞—Å—Ö–æ–¥–∞—Ö
**–ü–∞—Ç–µ–Ω—Ç:** –î–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –≤–∏–¥–æ–≤ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"""

    def _get_legal_advice(self, question: str) -> str:
        return """üìù **–°–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–∞**

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã:**
1. –ü—Ä–µ–¥–º–µ—Ç –¥–æ–≥–æ–≤–æ—Ä–∞
2. –°—Ç–æ–∏–º–æ—Å—Ç—å –∏ —Ä–∞—Å—á–µ—Ç—ã
3. –°—Ä–æ–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
4. –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å —Å—Ç–æ—Ä–æ–Ω
5. –†–µ–∫–≤–∏–∑–∏—Ç—ã –∏ –ø–æ–¥–ø–∏—Å–∏"""

    def _get_marketing_advice(self, question: str) -> str:
        return """üéØ **–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –¥–ª—è –±–∏–∑–Ω–µ—Å–∞**

**–ö–∞–Ω–∞–ª—ã –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è:**
‚Ä¢ –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏
‚Ä¢ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞
‚Ä¢ Email-—Ä–∞—Å—Å—ã–ª–∫–∏
‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤"""

    def _get_presentation_advice(self, question: str) -> str:
        return """üìä **–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞**

1. –ü—Ä–æ–±–ª–µ–º–∞ –∏ —Ä–µ—à–µ–Ω–∏–µ
2. –í–∞—à–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
3. –ë–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª—å
4. –ö–æ–º–∞–Ω–¥–∞ –∏ —Ñ–∏–Ω–∞–Ω—Å—ã
5. –ü—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é"""

    def _get_business_letter_advice(self, question: str) -> str:
        return """‚úâÔ∏è **–î–µ–ª–æ–≤–æ–µ –ø–∏—Å—å–º–æ**

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
1. –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
2. –¶–µ–ª—å –ø–∏—Å—å–º–∞
3. –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
4. –ü—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é
5. –ü–æ–¥–ø–∏—Å—å –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã"""

    def _get_business_start_advice(self, question: str) -> str:
        return """üöÄ **–ù–∞—á–∞–ª–æ –±–∏–∑–Ω–µ—Å–∞**

1. –ò–¥–µ—è –∏ –∞–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞
2. –ë–∏–∑–Ω–µ—Å-–ø–ª–∞–Ω
3. –Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ
4. –ó–∞–ø—É—Å–∫ –∏ –ø–µ—Ä–≤—ã–µ –ø—Ä–æ–¥–∞–∂–∏"""

    def _get_hr_advice(self, question: str) -> str:
        return """üë• **–ù–∞–µ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤**

‚Ä¢ –¢—Ä—É–¥–æ–≤–æ–π –¥–æ–≥–æ–≤–æ—Ä
‚Ä¢ –ò—Å–ø—ã—Ç–∞—Ç–µ–ª—å–Ω—ã–π —Å—Ä–æ–∫
‚Ä¢ –û–ø–ª–∞—Ç–∞ —Ç—Ä—É–¥–∞ –∏ –Ω–∞–ª–æ–≥–∏
‚Ä¢ –û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å"""

    def _get_accounting_advice(self, question: str) -> str:
        return """üìä **–£—á–µ—Ç –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å**

‚Ä¢ –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è
‚Ä¢ –°—Ä–æ–∫–∏ —Å–¥–∞—á–∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏
‚Ä¢ –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞–ª–æ–≥–∏ –∏ –≤–∑–Ω–æ—Å—ã"""

    def _get_profit_advice(self, question: str) -> str:
        return """üíµ **–ü—Ä–∏–±—ã–ª—å –∏ –¥–æ—Ö–æ–¥—ã**

**–í—ã—Ä—É—á–∫–∞ = –¶–µ–Ω–∞ √ó –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ**
**–ü—Ä–∏–±—ã–ª—å = –í—ã—Ä—É—á–∫–∞ - –†–∞—Å—Ö–æ–¥—ã**
**–†–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å = –ü—Ä–∏–±—ã–ª—å / –í—ã—Ä—É—á–∫–∞ √ó 100%**"""

    def _get_costs_advice(self, question: str) -> str:
        return """üí∞ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞–º–∏**

**–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã:** –ê—Ä–µ–Ω–¥–∞, –∑–∞—Ä–ø–ª–∞—Ç—ã
**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã:** –ú–∞—Ç–µ—Ä–∏–∞–ª—ã, –∫–æ–º–∏—Å—Å–∏–∏
**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç, –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ã —Å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏"""

    def _get_registration_advice(self, question: str) -> str:
        return """üìã **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å–∞**

**–ò–ü:** –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –Ω–∏–∑–∫–∏–µ –Ω–∞–ª–æ–≥–∏
**–û–û–û:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –≤—ã—à–µ —Å—Ç–∞—Ç—É—Å"""

    def _get_funding_advice(self, question: str) -> str:
        return """üè¶ **–§–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å–∞**

‚Ä¢ –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞
‚Ä¢ –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫—Ä–µ–¥–∏—Ç—ã
‚Ä¢ –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—É–±—Å–∏–¥–∏–∏
‚Ä¢ –ß–∞—Å—Ç–Ω—ã–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏"""

    async def _call_deepseek_api(self, question: str) -> Optional[str]:
        """–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤—ã–∑–æ–≤ DeepSeek API - –í–†–ï–ú–ï–ù–ù–û –û–¢–ö–õ–Æ–ß–ï–ù"""
        # if not settings.deepseek_api_key:
        #     return None
        # 
        # try:
        #     headers = {
        #         "Authorization": f"Bearer {settings.deepseek_api_key}",
        #         "Content-Type": "application/json"
        #     }
        #     
        #     data = {
        #         "model": "deepseek-chat",
        #         "messages": [
        #             {
        #                 "role": "system", 
        #                 "content": "–¢—ã –±–∏–∑–Ω–µ—Å-–ø–æ–º–æ—â–Ω–∏–∫. –û—Ç–≤–µ—á–∞–π –∫—Ä–∞—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É –Ω–∞ —Ä—É—Å—Å–∫–æ–º."
        #             },
        #             {
        #                 "role": "user",
        #                 "content": question
        #             }
        #         ],
        #         "max_tokens": 1000,
        #         "temperature": 0.7
        #     }
        #     
        #     async with aiohttp.ClientSession() as session:
        #         async with session.post(
        #             "https://api.deepseek.com/v1/chat/completions",
        #             headers=headers,
        #             json=data,
        #             timeout=30
        #         ) as response:
        #             
        #             if response.status == 200:
        #                 result = await response.json()
        #                 return result["choices"][0]["message"]["content"]
        #             else:
        #                 print(f"‚ùå DeepSeek API error: {response.status}")
        #                 return None
        #                 
        # except asyncio.TimeoutError:
        #     print("‚ùå DeepSeek API timeout")
        #     return None
        # except Exception as e:
        #     print(f"‚ùå DeepSeek API error: {e}")
        #     return None
        return None

# –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
ai_service = AIService()
